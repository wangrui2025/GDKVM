<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Environment Setup - GDKVM Reproduction Guide</title>
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro" rel="stylesheet">
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/bash.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/ini.min.js"></script>

  <style>
    /* Global Settings */
    html { font-size: 14px; }
    body { font-family: 'Noto Sans', 'Noto Sans SC', sans-serif; background-color: #ffffff; color: #4a4a4a; min-height: 100vh; display: flex; flex-direction: column; }
    a { color: #3273dc; transition: color 0.2s; text-decoration: none; }
    a:hover { color: #1a237e; text-decoration: underline; }

    /* Typography */
    .section-title { font-size: 1.5rem !important; margin-top: 2.5rem; margin-bottom: 1.5rem; font-weight: 600; color: #363636; border-bottom: 2px solid #f5f5f5; padding-bottom: 0.5rem; }
    .subsection-title { font-size: 1.2rem !important; margin-top: 1.8rem; margin-bottom: 0.8rem; font-weight: 600; color: #4a4a4a; }
    
    .content { font-size: 1rem; }

    /* Bilingual Styling Helpers */
    .en-title {
        font-size: 0.85em;
        font-weight: 400;
        color: #7a7a7a;
        margin-left: 0.5rem;
    }
    .en-text {
        display: block;
        color: #666;
        font-size: 0.9em;
        margin-top: 0.3rem;
        line-height: 1.4;
    }
    .has-text-grey .en-text {
        color: #888;
        font-size: 1em; /* inherit size from parent for footnotes */
        margin-top: 0.1rem;
    }
    
    /* Code Block Styles */
    .code-container { position: relative; margin-bottom: 1rem; }
    pre { background-color: #f5f5f5; padding: 1rem; border-radius: 4px; overflow-x: auto; }
    :not(pre) > code { font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace; background-color: #f3f6fc; padding: 0.15rem 0.35rem; border-radius: 4px; color: #0969da; font-size: 0.9em; border: 1px solid rgba(175, 184, 193, 0.2); }
    pre code.hljs { padding: 0; background-color: transparent; font-size: 0.95em; font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace; }

    .copy-btn { position: absolute; top: 0.5rem; right: 0.5rem; opacity: 0.7; transition: opacity 0.2s; border: 1px solid #dbdbdb; cursor: pointer; z-index: 10; }
    .copy-btn:hover { opacity: 1; }

    /* Advanced/Note/Compatibility Boxes */
    .advanced-box { background-color: #fffbeb; border-left: 4px solid #ffdd57; border-radius: 4px; padding: 1.2rem; margin: 1.5rem 0; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
    .advanced-title { font-weight: bold; color: #947600; margin-bottom: 0.8rem; display: flex; align-items: center; font-size: 1.05rem; }
    .advanced-title i { margin-right: 0.5rem; }

    details.compatibility-box { background-color: #fffdf5; border-left: 4px solid #ffdd57; border-radius: 4px; margin: 1.5rem 0; box-shadow: 0 2px 5px rgba(0,0,0,0.05); overflow: hidden; }
    summary.compatibility-header { padding: 1rem 1.2rem; font-weight: bold; color: #856404; cursor: pointer; list-style: none; display: flex; align-items: center; justify-content: space-between; outline: none; background-color: rgba(255, 221, 87, 0.15); }
    summary.compatibility-header:hover { background-color: rgba(255, 221, 87, 0.25); }
    .compatibility-content { padding: 1.2rem; border-top: 1px solid rgba(255, 221, 87, 0.3); }

    /* Footer sticks to bottom */
    .section { flex: 1; }
  </style>
</head>
<body>

<section class="section">
  <div class="container is-max-desktop content" id="environment-content">
    <h2 class="section-title">1. ç¯å¢ƒæ„å»º <span class="en-title">Environment Setup</span></h2>
    
    <h3 class="subsection-title">0. æ¸…ç†ç¯å¢ƒ <span class="en-title">Clean Environment</span></h3>
    <p>
      è‹¥å½“å‰ Shell å·²æ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼ˆå·¦ä¾§æ˜¾ç¤º <code>(base)</code> æˆ– <code>(env)</code>ï¼‰ï¼Œéœ€å…ˆé€€å‡ºã€‚
      <span class="en-text">If a virtual environment is currently activated in your Shell (indicated by <code>(base)</code> or <code>(env)</code> on the left), please deactivate it first.</span>
    </p>

    <p>å¯¹äº Conda ç¯å¢ƒï¼š<br><span class="en-text">For Conda environments:</span></p>
    <div class="code-container">
      <button class="button is-small is-light copy-btn" onclick="copyCode(this)">
        <span class="icon"><i class="fas fa-copy"></i></span>
        <span>Copy</span>
      </button>
      <pre><code class="language-bash">conda deactivate</code></pre>
    </div>

    <p>å¯¹äºæ™®é€š venvï¼š<br><span class="en-text">For standard venv:</span></p>
    <div class="code-container">
      <button class="button is-small is-light copy-btn" onclick="copyCode(this)">
        <span class="icon"><i class="fas fa-copy"></i></span>
        <span>Copy</span>
      </button>
      <pre><code class="language-bash">deactivate</code></pre>
    </div>

    <p class="is-size-7 has-text-grey" style="margin-top: 0.5rem;">
      å¤‡æ³¨ï¼š uv çš„ç¯å¢ƒç®¡ç†å…·æœ‰è¾ƒé«˜çš„éš”ç¦»æ€§ã€‚åœ¨å¤§å¤šæ•°åœºæ™¯ä¸‹ï¼Œå³ä¾¿æœªé€€å‡º Conda ç¯å¢ƒï¼Œç›´æ¥æ„å»º uv è™šæ‹Ÿç¯å¢ƒä¹Ÿä¸ä¼šå¼•å‘ä¾èµ–å†²çªã€‚
      <span class="en-text">Note: uv's environment management features high isolation. In most scenarios, even without deactivating the Conda environment, directly creating a uv virtual environment will not cause dependency conflicts.</span>
    </p>

    <h3 class="subsection-title">1. å·¥å…·å‡†å¤‡ï¼šå®‰è£… uv <span class="en-title">Preparation: Install uv</span></h3>
    <p>
      æœ¬é¡¹ç›®é‡‡ç”¨ <a href="https://docs.astral.sh/uv/" target="_blank">uv</a> è¿›è¡Œä¾èµ–ç®¡ç†ã€‚è¯¥å·¥å…·åŸºäº Rust å¼€å‘ï¼Œå…·å¤‡é«˜æ•ˆçš„ä¾èµ–è§£æèƒ½åŠ›ã€‚
      <span class="en-text">This project uses <a href="https://docs.astral.sh/uv/" target="_blank">uv</a> for dependency management. Developed in Rust, it features highly efficient dependency resolution capabilities.</span>
    </p>
    
    <p>
      <a href="https://docs.astral.sh/uv/getting-started/installation/" target="_blank">å®˜æ–¹å®‰è£…æŒ‡å— <i class="fas fa-external-link-alt is-size-7"></i></a>
      <span class="en-text" style="display:inline; margin-left: 0.5rem;"><a href="https://docs.astral.sh/uv/getting-started/installation/" target="_blank">Official Installation Guide <i class="fas fa-external-link-alt is-size-7"></i></a></span>
    </p>

    <p>å¸¸è§„å®‰è£…ï¼š<br><span class="en-text">Standard installation:</span></p>
    <div class="code-container">
      <button class="button is-small is-light copy-btn" onclick="copyCode(this)">
        <span class="icon"><i class="fas fa-copy"></i></span>
        <span>Copy</span>
      </button>
      <pre><code class="language-bash">pip install uv</code></pre>
    </div>
    
    <p>æˆ–æ›´æ–°è‡³æœ€æ–°ç‰ˆï¼š<br><span class="en-text">Or update to the latest version:</span></p>
    <div class="code-container">
      <button class="button is-small is-light copy-btn" onclick="copyCode(this)">
        <span class="icon"><i class="fas fa-copy"></i></span>
        <span>Copy</span>
      </button>
      <pre><code class="language-bash">pip install --upgrade uv</code></pre>
    </div>

    <p>éªŒè¯å®‰è£…ï¼š<br><span class="en-text">Verify installation:</span></p>
    <div class="code-container">
      <button class="button is-small is-light copy-btn" onclick="copyCode(this)">
        <span class="icon"><i class="fas fa-copy"></i></span>
        <span>Copy</span>
      </button>
      <pre><code class="language-bash">uv -V</code></pre>
    </div>
    <p class="is-size-7 has-text-grey">
        åŸºå‡†ç‰ˆæœ¬ï¼šä»Šå¤©çš„ç‰ˆæœ¬ 0.9.10ã€‚
        <span class="en-text">Baseline version: Today's version 0.9.10.</span>
    </p>

    <h3 class="subsection-title">2. è·å–é¡¹ç›®ä»£ç  <span class="en-title">Get Project Code</span></h3>
    <p>
        å…‹éš†ä»£ç ä»“åº“å¹¶æŒ‡å®šæœ¬åœ°ç›®å½•åã€‚
        <span class="en-text">Clone the repository and specify the local directory name.</span>
    </p>
    <div class="code-container">
      <button class="button is-small is-light copy-btn" onclick="copyCode(this)">
        <span class="icon"><i class="fas fa-copy"></i></span>
        <span>Copy</span>
      </button>
      <pre><code class="language-bash">git clone https://github.com/wangrui2025/GDKVM.git gdkvm-20251215</code></pre>
    </div>

    <p>è¿›å…¥é¡¹ç›®ç›®å½•ï¼š<br><span class="en-text">Enter the project directory:</span></p>
    <div class="code-container">
      <button class="button is-small is-light copy-btn" onclick="copyCode(this)">
        <span class="icon"><i class="fas fa-copy"></i></span>
        <span>Copy</span>
      </button>
      <pre><code class="language-bash">cd gdkvm-20251215</code></pre>
    </div>

    <p>é¡¹ç›®ç»“æ„æ¦‚è§ˆï¼š<br><span class="en-text">Project structure overview:</span></p>
    <div class="code-container">
      <pre><code class="language-bash">.
â”œâ”€â”€ .python-version    # æŒ‡å®šé¡¹ç›®ä½¿ç”¨çš„ Python ç‰ˆæœ¬ / Specifies the Python version
â”œâ”€â”€ pyproject.toml     # é¡¹ç›®çš„ä¸»é…ç½®æ–‡ä»¶ / Main project configuration file
â”œâ”€â”€ uv.lock            # é”å®šæ–‡ä»¶ (ç¡®ä¿ç¯å¢ƒä¸€è‡´æ€§) / Lock file (Ensures consistency)
â””â”€â”€ ...                # å…¶ä»–é¡¹ç›®æºä»£ç æ–‡ä»¶ / Other source code files</code></pre>
    </div>

    <h3 class="subsection-title">3. ç¯å¢ƒåˆå§‹åŒ–ä¸åŒæ­¥ <span class="en-title">Initialization & Sync</span></h3>
    <p>
        uv å°†è¯»å–é…ç½®æ–‡ä»¶ï¼Œåˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼Œå®‰è£…æ‰€æœ‰ä¾èµ–ã€‚
        <span class="en-text">uv will read configuration files, create a virtual environment, and install all dependencies.</span>
    </p>
    <p class="is-size-7 has-text-grey" style="margin-top: 0.5rem;">
      å¯¹äºæ›´æ–°çš„ç¯å¢ƒï¼Œå¯ä»¥ä½¿ç”¨ <code>env_02</code> ç¯å¢ƒé…ç½®ï¼Œå…·ä½“ä»£ç å‚è€ƒ <code>env/env_02/pyproject.toml</code>
      <span class="en-text">For a newer environment, you can use the <code>env_02</code> configuration. Refer to <code>env/env_02/pyproject.toml</code>.</span>
    </p>

    <details class="compatibility-box" style="margin-top: 1rem; margin-bottom: 1.5rem;">
      <summary class="compatibility-header">
        <span><i class="fas fa-search"></i> ç¯å¢ƒè‡ªæ£€ / Environment Self-Check</span>
        <span class="icon faq-toggle-icon"><i class="fas fa-chevron-down"></i></span>
      </summary>
      <div class="compatibility-content">
        
        <div class="code-container">
          <button class="button is-small is-light copy-btn" onclick="copyCode(this)">
            <span class="icon"><i class="fas fa-copy"></i></span>
            <span>Copy</span>
          </button>
          <pre><code class="language-bash">( printf "\n==========================================\nğŸ” 1. GPU Drivers (Hardware Foundation)\n"; nvidia-smi --query-gpu=driver_version --format=csv,noheader 2>/dev/null | awk '{print "Driver: " $1}' || echo "Driver: Unknown"; nvidia-smi 2>/dev/null | grep "CUDA Version" | awk '{print "Max CUDA: " $9}' || echo "Max CUDA: Unknown"; printf "\n==========================================\nğŸ§ 2. OS & GLIBC\n"; [ -f /etc/os-release ] && . /etc/os-release && echo "OS: ${PRETTY_NAME}"; ldd --version | head -n 1; printf "\n==========================================\nğŸ—ï¸  3. Compiler (JIT Critical)\n"; printf "GCC: "; gcc --version 2>/dev/null | head -n 1 || echo "Not found"; printf "\n==========================================\nğŸ› ï¸  4. CUDA Toolkit\n"; if command -v nvcc >/dev/null 2>&1; then nvcc -V | grep release; else echo "âš ï¸ nvcc not found"; fi; printf -- "------------------------------------------\nCUDA Physical Directories (/usr/local):\n"; ls -l /usr/local 2>/dev/null | grep cuda; printf -- "------------------------------------------\nLD_LIBRARY_PATH (Runtime Libs):\n${LD_LIBRARY_PATH:-âš ï¸ Not set}\n"; printf "\n==========================================\nğŸ 5. Python Environment\n"; printf "Python: "; python3 --version 2>&1 || echo "Not found"; printf "Path:   "; command -v python3 || echo "Not found"; printf "==========================================\n" )</code></pre>
        </div>

        <div class="box is-size-7" style="font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace; overflow-x: auto; margin-bottom: 0; background-color: #fafafa; border: 1px solid #dbdbdb; color: #4a4a4a; box-shadow: none;">
          <p style="color: #3273dc; font-weight: bold; margin-bottom: 0.5rem; background-color: #eff5fb; padding: 0.2rem 0.5rem; display: inline-block; border-radius: 4px;">env_01 ï¼ˆå…¼å®¹æ€§è¾ƒå¥½çš„ç¯å¢ƒ / Stable Environmentï¼‰</p>
          <div style="padding-left: 0.5rem;">
            ==========================================<br>
            ğŸ” 1. GPU Drivers (Hardware Foundation)<br>
            Driver: 525.85.05<br>
            Driver: 525.85.05<br>
            Driver: 525.85.05<br>
            Driver: 525.85.05<br>
            Driver: 525.85.05<br>
            Driver: 525.85.05<br>
            Driver: 525.85.05<br>
            Driver: 525.85.05<br>
            Max CUDA: 12.0<br>
            <br>
            ==========================================<br>
            ğŸ§ 2. OS & GLIBC<br>
            OS: Ubuntu 18.04.6 LTS<br>
            ldd (Ubuntu GLIBC 2.27-3ubuntu1.6) 2.27<br>
            <br>
            ==========================================<br>
            ğŸ—ï¸  3. Compiler (JIT Critical)<br>
            GCC: gcc (GCC) 7.4.0<br>
            <br>
            ==========================================<br>
            ğŸ› ï¸  4. CUDA Toolkit<br>
            Cuda compilation tools, release 11.8, V11.8.89<br>
            ------------------------------------------<br>
            CUDA Physical Directories (/usr/local):<br>
            lrwxrwxrwx  1 root root    20 11æœˆ 21  2022 cuda -> /usr/local/cuda-10.0<br>
            drwxr-xr-x 17 root root  4096 11æœˆ  9  2022 cuda-10.1<br>
            drwxr-xr-x 18 root root  4096 7æœˆ  18  2022 cuda-10.2<br>
            drwxr-xr-x 17 root root  4096 4æœˆ  19  2024 cuda-11.8<br>
            drwxr-xr-x 17 root root  4096 7æœˆ   9  2022 cuda-8.0<br>
            drwxr-xr-x 18 root root  4096 7æœˆ  18  2022 cuda-9.0<br>
            ------------------------------------------<br>
            LD_LIBRARY_PATH (Runtime Libs):<br>
            /usr/local/cuda-11.8/lib64:<br>
            <br>
            ==========================================<br>
            ğŸ 5. Python Environment<br>
            Python: Python 3.12.12<br>
            Path:   /data/Anon/Repo/gdkvm-20251216/.venv/bin/python3<br>
            ==========================================<br>
          </div>

          <hr style="border-top: 1px dashed #ccc; margin: 1.5rem 0;">

          <p style="color: #3273dc; font-weight: bold; margin-bottom: 0.5rem; background-color: #eff5fb; padding: 0.2rem 0.5rem; display: inline-block; border-radius: 4px;">env_02 ï¼ˆè¾ƒæ–°çš„ç¯å¢ƒ / Newer Environmentï¼‰</p>
          <div style="padding-left: 0.5rem;">
            ==========================================<br>
            ğŸ” 1. GPU Drivers (Hardware Foundation)<br>
            Driver: 570.133.07<br>
            Driver: 570.133.07<br>
            Driver: 570.133.07<br>
            Driver: 570.133.07<br>
            Max CUDA: 12.8<br>
            <br>
            ==========================================<br>
            ğŸ§ 2. OS & GLIBC<br>
            OS: Ubuntu 20.04.6 LTS<br>
            ldd (Ubuntu GLIBC 2.31-0ubuntu9.16) 2.31<br>
            <br>
            ==========================================<br>
            ğŸ—ï¸  3. Compiler (JIT Critical)<br>
            GCC: gcc (Ubuntu 9.4.0-1ubuntu1~20.04.2) 9.4.0<br>
            <br>
            ==========================================<br>
            ğŸ› ï¸  4. CUDA Toolkit<br>
            Cuda compilation tools, release 11.8, V11.8.89<br>
            ------------------------------------------<br>
            CUDA Physical Directories (/usr/local):<br>
            lrwxrwxrwx  1 root root   21 4æœˆ   4  2023 cuda -> /usr/local/cuda-11.7/<br>
            drwxr-xr-x 19 root root 4096 9æœˆ   8  2022 cuda-10.0<br>
            drwxr-xr-x 18 root root 4096 10æœˆ 31  2022 cuda-10.1<br>
            drwxr-xr-x 15 root root 4096 9æœˆ   8  2022 cuda-11.3<br>
            drwxr-xr-x 16 root root 4096 9æœˆ  21  2021 cuda-11.4<br>
            drwxr-xr-x 16 root root 4096 4æœˆ   4  2023 cuda-11.7<br>
            drwxr-xr-x 17 root root 4096 4æœˆ  22  2024 cuda-11.8<br>
            drwxr-xr-x 17 root root 4096 12æœˆ  1 15:59 cuda-12.6<br>
            ------------------------------------------<br>
            LD_LIBRARY_PATH (Runtime Libs):<br>
            /usr/local/cuda-11.8/lib64:<br>
            <br>
            ==========================================<br>
            ğŸ 5. Python Environment<br>
            Python: Python 3.13.7<br>
            Path:   /data/Anon/Repo/gdkvm-rtx6/.venv/bin/python3<br>
            ==========================================
          </div>
      </div>
    </details>
    
    <div class="code-container">
      <button class="button is-small is-light copy-btn" onclick="copyCode(this)">
        <span class="icon"><i class="fas fa-copy"></i></span>
        <span>Copy</span>
      </button>
      <pre><code class="language-bash">uv sync</code></pre>
    </div>

    <div class="advanced-box">
      <div class="advanced-title">
        <i class="fas fa-tools"></i> æ•…éšœæ’é™¤ï¼šå†…ç½‘/å—é™ç½‘ç»œä¸‹çš„ Python å®‰è£… <span class="en-title">Troubleshooting: Python Installation in Intranet</span>
      </div>
      <p><strong>åœºæ™¯ï¼š</strong> è‹¥æ‰§è¡Œ <code>uv sync</code> æ—¶æŠ¥é”™ï¼ˆå¦‚ SSL é”™è¯¯ã€è¿æ¥è¶…æ—¶ï¼‰ï¼Œé€šå¸¸ç³»ç½‘ç»œç­–ç•¥é™åˆ¶å¯¼è‡´ uv æ— æ³•è‡ªåŠ¨ä¸‹è½½ Python è§£é‡Šå™¨ã€‚
      <span class="en-text"><strong>Scenario:</strong> If <code>uv sync</code> fails (e.g., SSL errors, timeouts), it is usually due to network policies preventing uv from automatically downloading the Python interpreter.</span></p>
      
      <p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong> é€šè¿‡é•œåƒæºæ‰‹åŠ¨å®‰è£… Pythonã€‚
      <span class="en-text"><strong>Solution:</strong> Manually install Python via a mirror source.</span></p>
      
      <p style="margin-top: 0.8rem;">æŸ¥çœ‹å¯ç”¨ç‰ˆæœ¬ï¼š<br><span class="en-text">Check available versions:</span></p>
      <div class="code-container">
        <button class="button is-small is-light copy-btn" onclick="copyCode(this)">
          <span class="icon"><i class="fas fa-copy"></i></span>
          <span>Copy</span>
        </button>
        <pre><code class="language-bash">uv python list</code></pre>
      </div>

      <p>é€šè¿‡é•œåƒæºå®‰è£…ï¼ˆä»¥ 3.12.12 ä¸ºä¾‹ï¼‰ï¼š<br><span class="en-text">Install via mirror (e.g., 3.12.12):</span></p>
      <div class="code-container">
        <button class="button is-small is-light copy-btn" onclick="copyCode(this)">
          <span class="icon"><i class="fas fa-copy"></i></span>
          <span>Copy</span>
        </button>
        <pre><code class="language-bash">uv python install 3.12.12 --mirror https://github-proxy.lixxing.top/https://github.com/astral-sh/python-build-standalone/releases/download</code></pre>
      </div>
      <p>å®‰è£…æˆåŠŸåï¼Œå†æ¬¡è¿è¡Œ <code>uv sync</code> ã€‚<br><span class="en-text">After successful installation, run <code>uv sync</code> again.</span></p>
    </div>

    <details class="compatibility-box">
      <summary class="compatibility-header">
        <span><i class="fas fa-exclamation-triangle"></i> ç‰ˆæœ¬çº¦æŸä¸å…¼å®¹æ€§è¯´æ˜ <span class="en-title" style="display:inline; margin:0;">Version Constraints & Compatibility</span></span>
        <span class="icon faq-toggle-icon"><i class="fas fa-chevron-down"></i></span>
      </summary>
      <div class="compatibility-content content">
        <ol style="margin-top: 0; padding-left: 1.2rem;">
          <li style="margin-bottom: 1.5rem;">
            <strong>Pydantic ç‰ˆæœ¬å†²çª <code>&lt;2.12</code></strong>
            <span class="en-text" style="display:inline; margin-left: 0.5rem;">Pydantic Version Conflict</span>
            <div class="is-size-7" style="margin-top: 0.3rem; padding-left: 0.2rem;">
              <p style="margin-bottom: 0.3rem;"><strong><i class="fas fa-bug has-text-danger" style="width: 1.2em;"></i> ç°è±¡ï¼š</strong>Pydantic 2.12+ (2025-10) çš„ä¸¥æ ¼ Schema æ ¡éªŒä¸ wandb å­—æ®µå£°æ˜å†²çªï¼Œå¤šè¿›ç¨‹ä¸‹å¯èƒ½å¯¼è‡´å´©æºƒã€‚
              <span class="en-text"><strong>Issue:</strong> Pydantic 2.12+ (2025-10) strict Schema validation conflicts with wandb field declarations, potentially causing crashes in multi-process modes.</span></p>
              
              <p style="margin-bottom: 0;"><strong><i class="fas fa-check-circle has-text-success" style="width: 1.2em;"></i> è§£å†³ï¼š</strong>é…ç½®æ–‡ä»¶å·²å¼ºåˆ¶é”å®š <code>pydantic&lt;2.12</code>ã€‚
              <span class="en-text"><strong>Solution:</strong> The configuration file forcefully locks <code>pydantic&lt;2.12</code>.</span></p>
            </div>
          </li>

          <li style="margin-bottom: 1.5rem;">
            <strong>Wandb ç³»ç»Ÿå…¼å®¹æ€§ (glibc)</strong>
            <span class="en-text" style="display:inline; margin-left: 0.5rem;">Wandb System Compatibility</span>
            <div class="is-size-7" style="margin-top: 0.3rem; padding-left: 0.2rem;">
              <p style="margin-bottom: 0.3rem;"><strong><i class="fas fa-bug has-text-danger" style="width: 1.2em;"></i> ç°è±¡ï¼š</strong><code>wandb&gt;=0.22.2</code> åœæ­¢æä¾›é’ˆå¯¹ Ubuntu 18.04 (glibc 2.27) çš„é¢„ç¼–è¯‘åŒ…ï¼Œå¯¼è‡´å®‰è£…å¤±è´¥ã€‚
              <span class="en-text"><strong>Issue:</strong> <code>wandb&gt;=0.22.2</code> stopped providing pre-built packages for Ubuntu 18.04 (glibc 2.27), causing installation failures.</span></p>
              
              <p style="margin-bottom: 0;"><strong><i class="fas fa-check-circle has-text-success" style="width: 1.2em;"></i> è§£å†³ï¼š</strong>éœ€ç¡®ä¿ç³»ç»Ÿå®‰è£…äº† Go ç¼–è¯‘å™¨ä»¥æ”¯æŒæºç ç¼–è¯‘ï¼Œæˆ–å‡çº§æ“ä½œç³»ç»Ÿã€‚
              <span class="en-text"><strong>Solution:</strong> Ensure a Go compiler is installed for source compilation, or upgrade the OS.</span></p>
            </div>
          </li>

          <li>
            <strong>SSL/TLS è¯ä¹¦é”™è¯¯ (å†…ç½‘/ä»£ç†ç¯å¢ƒ)</strong>
            <span class="en-text" style="display:inline; margin-left: 0.5rem;">SSL/TLS Certificate Errors</span>
            <div class="is-size-7" style="margin-top: 0.3rem; padding-left: 0.2rem;">
              <p style="margin-bottom: 0.3rem;"><strong><i class="fas fa-bug has-text-danger" style="width: 1.2em;"></i> ç°è±¡ï¼š</strong>è¿è¡Œ <code>uv add/sync</code> æ—¶æŠ¥é”™ï¼ˆCertificate Expiredï¼‰ï¼Œå› å†…ç½‘é˜²ç«å¢™/ä»£ç†çš„è‡ªç­¾åè¯ä¹¦ä¸è¢« uv é»˜è®¤çš„ Rust TLS ä¿¡ä»»ã€‚
              <span class="en-text"><strong>Issue:</strong> <code>uv add/sync</code> fails (Certificate Expired) because self-signed certificates in intranet/proxy environments are not trusted by uv's default Rust TLS.</span></p>
              
              <p style="margin-bottom: 0.5rem;"><strong><i class="fas fa-check-circle has-text-success" style="width: 1.2em;"></i> è§£å†³æ–¹æ¡ˆï¼š</strong>åˆ‡æ¢ä¸ºç³»ç»ŸåŸç”Ÿ TLS éªŒè¯ã€‚
              <span class="en-text"><strong>Solution:</strong> Switch to system native TLS validation.</span></p>
              
              <div style="margin-bottom: 0.8rem;">
                <span class="tag is-warning is-light" style="height: auto; margin-bottom: 0.2rem; display: inline-block;">
                    æ–¹æ¡ˆ A (ä¸´æ—¶å•æ¬¡) <span style="display:block; font-weight:normal; color:#666;">Option A (Temporary)</span>
                </span>
                <div class="code-container" style="margin-bottom: 0;">
                    <button class="button is-small is-light copy-btn" onclick="copyCode(this)" style="top: 2px; right: 2px; height: 24px; font-size: 0.7rem;">
                        <span class="icon"><i class="fas fa-copy"></i></span>
                    </button>
                    <pre style="padding: 0.6rem;"><code class="language-bash">uv add wandb --native-tls</code></pre>
                </div>
              </div>

              <div>
                <span class="tag is-success is-light" style="height: auto; margin-bottom: 0.2rem; display: inline-block;">
                    æ–¹æ¡ˆ B (æ°¸ä¹…æ¨è) <span style="display:block; font-weight:normal; color:#666;">Option B (Recommended)</span>
                </span>
                <div class="code-container" style="margin-bottom: 0;">
                    <button class="button is-small is-light copy-btn" onclick="copyCode(this)" style="top: 2px; right: 2px; height: 24px; font-size: 0.7rem;">
                        <span class="icon"><i class="fas fa-copy"></i></span>
                    </button>
                    <pre style="padding: 0.6rem;"><code class="language-bash">export UV_NATIVE_TLS=1</code></pre>
                </div>
                <p class="help has-text-grey" style="margin-top: 0.2rem;">
                    * å»ºè®®å°†æ­¤å‘½ä»¤æ·»åŠ åˆ° <code>~/.bashrc</code> æˆ– <code>~/.zshrc</code>
                    <span class="en-text">* Recommended to add this command to <code>~/.bashrc</code> or <code>~/.zshrc</code></span>
                </p>
              </div>
            </div>
          </li>
        </ol>
      </div>
    </details>

    <h3 class="subsection-title">4. æ¿€æ´»ç¯å¢ƒ <span class="en-title">Activate Environment</span></h3>
    <div class="code-container">
      <button class="button is-small is-light copy-btn" onclick="copyCode(this)">
        <span class="icon"><i class="fas fa-copy"></i></span>
        <span>Copy</span>
      </button>
      <pre><code class="language-bash">source .venv/bin/activate</code></pre>
    </div>
    
    <p class="is-size-7 has-text-grey" style="margin-top: 0.5rem;">
      æ³¨ï¼šæ¨èæ˜¾å¼æ¿€æ´»ç¯å¢ƒï¼Œä»¥ä¾¿è¿›å…¥äº¤äº’å¼è°ƒè¯•ï¼ˆå¦‚ Python REPLï¼‰åŠä½¿ç”¨ pip æ£€æŸ¥åŒ…çŠ¶æ€ã€‚
      <span class="en-text">Note: Explicit activation is recommended to enable interactive debugging (e.g., Python REPL) and checking package status via pip.</span>
    </p>

    <p style="margin-top: 1rem;">éªŒè¯ç¯å¢ƒï¼ˆåº”è¾“å‡ºé¡¹ç›® <code>.venv</code> ç›®å½•ä¸‹çš„è·¯å¾„ï¼‰ï¼š<br><span class="en-text">Verify environment (should output the path inside project <code>.venv</code>):</span></p>
    <div class="code-container">
      <button class="button is-small is-light copy-btn" onclick="copyCode(this)">
        <span class="icon"><i class="fas fa-copy"></i></span>
        <span>Copy</span>
      </button>
      <pre><code class="language-bash">which python</code></pre>
    </div>

    <p class="is-size-7 has-text-grey" style="margin-top: 0.5rem;">
      è¾“å‡ºç»“æœç¤ºä¾‹ï¼š<br><span class="en-text">Example output:</span><br>
      <code>/data/Anon/Repo/gdkvm-20251216/.venv/bin/python</code>
    </p>
  </div>
</section>

<script>
  function copyCode(btn) {
    const pre = btn.nextElementSibling;
    const code = pre.querySelector('code');
    const text = code.innerText;
    // Use clipboard API first if available, fallback to execCommand
    if (navigator.clipboard && navigator.clipboard.writeText) {
       navigator.clipboard.writeText(text).then(() => {
          showSuccess(btn);
       }).catch(err => {
          fallbackCopy(text, btn);
       });
    } else {
       fallbackCopy(text, btn);
    }
  }

  function fallbackCopy(text, btn) {
    const textarea = document.createElement('textarea');
    textarea.value = text;
    document.body.appendChild(textarea);
    textarea.select();
    try {
      document.execCommand('copy');
      showSuccess(btn);
    } catch (err) {
      console.error('Failed to copy', err);
    }
    document.body.removeChild(textarea);
  }

  function showSuccess(btn) {
      const icon = btn.querySelector('.icon i');
      const textSpan = btn.querySelector('span:last-child');
      const originalText = textSpan.innerText;
      icon.className = 'fas fa-check';
      textSpan.innerText = 'å·²å¤åˆ¶!';
      btn.classList.remove('is-light');
      btn.classList.add('is-success');
      setTimeout(() => {
        icon.className = 'fas fa-copy';
        textSpan.innerText = originalText;
        btn.classList.remove('is-success');
        btn.classList.add('is-light');
      }, 2000);
  }

  document.addEventListener('DOMContentLoaded', (event) => {
    hljs.highlightAll();
  });
</script>

</body>
</html>
